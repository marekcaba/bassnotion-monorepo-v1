(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[105],{1318:(e,s,t)=>{"use strict";t.d(s,{$:()=>d});var r=t(2711),a=t(1426),n=t(8783),i=t(6709);let o=(0,t(4655).F)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-transparent shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),d=n.forwardRef((e,s)=>{let{className:t,variant:n,size:d,asChild:l=!1,...c}=e,u=l?a.DX:"button",m=o({variant:n,size:d,className:t});return(0,r.jsx)(u,{className:(0,i.cn)(m),ref:s,...c})});d.displayName="Button"},1875:(e,s,t)=>{"use strict";t.d(s,{lR:()=>i,y1:()=>d});var r=t(2745),a=t(5205);if(!a.env.NEXT_PUBLIC_SUPABASE_URL)throw Error("Missing environment variable: NEXT_PUBLIC_SUPABASE_URL");if(!a.env.NEXT_PUBLIC_SUPABASE_ANON_KEY)throw Error("Missing environment variable: NEXT_PUBLIC_SUPABASE_ANON_KEY");let n=(0,r.UU)(a.env.NEXT_PUBLIC_SUPABASE_URL,a.env.NEXT_PUBLIC_SUPABASE_ANON_KEY,{auth:{autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0}});class i extends Error{constructor(e,s){super(e),this.code=s,this.name="AuthError"}}class o{async signUp(e){let{data:s,error:t}=await n.auth.signUp({email:e.email,password:e.password});if(t){var r;throw new i(t.message,null==(r=t.status)?void 0:r.toString())}return s}async signIn(e){let{data:s,error:t}=await n.auth.signInWithPassword({email:e.email,password:e.password});if(t){var r;throw new i(t.message,null==(r=t.status)?void 0:r.toString())}return s}async signOut(){let{error:e}=await n.auth.signOut();if(e)throw new i(e.message)}async getCurrentSession(){let{data:e,error:s}=await n.auth.getSession();if(s)throw new i(s.message);return e}async getCurrentUser(){let{data:e,error:s}=await n.auth.getUser();if(s)throw new i(s.message);return e}onAuthStateChange(e){return n.auth.onAuthStateChange(e)}async refreshSession(){let{data:e,error:s}=await n.auth.refreshSession();if(s)throw new i(s.message);return e}}let d=new o},3005:(e,s,t)=>{"use strict";t.d(s,{dj:()=>u});var r=t(8783);let a=new Map,n=e=>{if(a.has(e))return;let s=setTimeout(()=>{a.delete(e),l({type:"remove_toast",toastId:e})},1e6);a.set(e,s)},i=(e,s)=>{switch(s.type){case"add_toast":return{...e,toasts:[s.toast,...e.toasts].slice(0,1)};case"update_toast":return{...e,toasts:e.toasts.map(e=>e.id===s.id?{...e,...s.toast}:e)};case"dismiss_toast":{let{toastId:t}=s;return t?n(t):e.toasts.forEach(e=>{n(e.id)}),{...e,toasts:e.toasts.map(e=>e.id!==t&&t?e:{...e,dismiss:()=>l({type:"dismiss_toast",toastId:e.id})})}}case"remove_toast":if(void 0===s.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==s.toastId)}}},o=[],d={toasts:[]};function l(e){d=i(d,e),o.forEach(e=>{e(d)})}function c(e){let{...s}=e,t=crypto.randomUUID(),r=e=>l({type:"update_toast",id:t,toast:e}),a=()=>l({type:"dismiss_toast",toastId:t});return l({type:"add_toast",toast:{...s,id:t,dismiss:a,update:r}}),{id:t,dismiss:a,update:r}}function u(){let[e,s]=r.useState(d);return r.useEffect(()=>(o.push(s),()=>{let e=o.indexOf(s);e>-1&&o.splice(e,1)}),[e]),{...e,toast:c,dismiss:e=>l({type:"dismiss_toast",toastId:e})}}},3796:(e,s,t)=>{"use strict";t.d(s,{A:()=>i});var r=t(7543),a=t(53);let n=(0,r.v)()((0,a.lt)(e=>({user:null,session:null,isLoading:!0,isInitialized:!1,setUser:s=>e({user:s}),setSession:s=>e({session:s}),setLoading:s=>e({isLoading:s}),setInitialized:s=>e({isInitialized:s}),reset:()=>e({user:null,session:null,isLoading:!1,isInitialized:!0})}),{name:"auth-store"})),i=()=>{let e=n();return{...e,isAuthenticated:!!(e.user&&e.session),isReady:e.isInitialized&&!e.isLoading}}},5200:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>u});var r=t(2711),a=t(8783),n=t(8684);let i=(0,t(2308).A)("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);var o=t(3796),d=t(1875),l=t(1318),c=t(3005);function u(){let{user:e,session:s,isAuthenticated:t,isReady:u,reset:m}=(0,o.A)(),h=(0,n.useRouter)(),{toast:g}=(0,c.dj)();(0,a.useEffect)(()=>{u&&!t&&h.push("/login?returnTo=/dashboard")},[t,u,h]);let x=async()=>{try{await d.y1.signOut(),m(),g({title:"Signed out",description:"You have been signed out successfully."}),h.push("/")}catch(e){console.error("Sign out error:",e),g({title:"Sign out failed",description:"There was an error signing you out. Please try again.",variant:"destructive"})}};return u?t?(0,r.jsxs)("div",{className:"min-h-screen bg-background",children:[(0,r.jsx)("header",{className:"border-b",children:(0,r.jsxs)("div",{className:"container mx-auto px-4 py-4 flex justify-between items-center",children:[(0,r.jsx)("h1",{className:"text-2xl font-bold",children:"BassNotion Dashboard"}),(0,r.jsxs)("div",{className:"flex gap-2",children:[(0,r.jsxs)(l.$,{onClick:()=>{h.push("/")},variant:"outline",children:[(0,r.jsx)(i,{className:"h-4 w-4 mr-2"}),"Home"]}),(0,r.jsx)(l.$,{onClick:x,variant:"outline",children:"Sign Out"})]})]})}),(0,r.jsx)("main",{className:"container mx-auto px-4 py-8",children:(0,r.jsxs)("div",{className:"max-w-4xl",children:[(0,r.jsxs)("div",{className:"bg-card rounded-lg border p-6 mb-8",children:[(0,r.jsx)("h2",{className:"text-xl font-semibold mb-2",children:"Welcome back!"}),(0,r.jsx)("p",{className:"text-muted-foreground mb-4",children:"You're successfully signed in to BassNotion."}),e&&(0,r.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,r.jsxs)("p",{children:[(0,r.jsx)("strong",{children:"Email:"})," ",e.email]}),(0,r.jsxs)("p",{children:[(0,r.jsx)("strong",{children:"User ID:"})," ",e.id]}),(0,r.jsxs)("p",{children:[(0,r.jsx)("strong",{children:"Email Confirmed:"})," ",e.email_confirmed_at?(0,r.jsx)("span",{className:"text-green-600",children:"✓ Confirmed"}):(0,r.jsx)("span",{className:"text-amber-600",children:"⏳ Pending"})]}),(0,r.jsxs)("p",{children:[(0,r.jsx)("strong",{children:"Account Created:"})," ",new Date(e.created_at).toLocaleDateString()]})]})]}),(0,r.jsxs)("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:[(0,r.jsxs)("div",{className:"bg-card rounded-lg border p-6",children:[(0,r.jsx)("h3",{className:"font-semibold mb-2",children:"Bass Exercises"}),(0,r.jsx)("p",{className:"text-sm text-muted-foreground mb-4",children:"Practice with interactive bass exercises"}),(0,r.jsx)(l.$,{size:"sm",disabled:!0,children:"Coming Soon"})]}),(0,r.jsxs)("div",{className:"bg-card rounded-lg border p-6",children:[(0,r.jsx)("h3",{className:"font-semibold mb-2",children:"Learning Progress"}),(0,r.jsx)("p",{className:"text-sm text-muted-foreground mb-4",children:"Track your bass learning journey"}),(0,r.jsx)(l.$,{size:"sm",disabled:!0,children:"Coming Soon"})]}),(0,r.jsxs)("div",{className:"bg-card rounded-lg border p-6",children:[(0,r.jsx)("h3",{className:"font-semibold mb-2",children:"Community"}),(0,r.jsx)("p",{className:"text-sm text-muted-foreground mb-4",children:"Connect with other bass players"}),(0,r.jsx)(l.$,{size:"sm",disabled:!0,children:"Coming Soon"})]})]}),(0,r.jsxs)("div",{className:"mt-8 bg-muted rounded-lg p-4",children:[(0,r.jsx)("h3",{className:"font-semibold mb-2",children:"Debug Information"}),(0,r.jsxs)("div",{className:"text-xs space-y-1 font-mono",children:[(0,r.jsxs)("p",{children:["Auth Status:"," ",t?"Authenticated":"Not Authenticated"]}),(0,r.jsxs)("p",{children:["Session: ",s?"Active":"None"]}),(0,r.jsxs)("p",{children:["User: ",e?"Loaded":"None"]}),(0,r.jsxs)("p",{children:["Auth Ready: ",u?"Yes":"No"]})]})]})]})})]}):null:(0,r.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto"}),(0,r.jsx)("p",{className:"mt-2 text-muted-foreground",children:"Loading..."})]})})}},6709:(e,s,t)=>{"use strict";t.d(s,{cn:()=>n});var r=t(1511),a=t(1142);function n(){for(var e=arguments.length,s=Array(e),t=0;t<e;t++)s[t]=arguments[t];return(0,a.QP)((0,r.$)(s))}},8684:(e,s,t)=>{"use strict";var r=t(2551);t.o(r,"useRouter")&&t.d(s,{useRouter:function(){return r.useRouter}}),t.o(r,"useSearchParams")&&t.d(s,{useSearchParams:function(){return r.useSearchParams}})},9846:(e,s,t)=>{Promise.resolve().then(t.bind(t,5200))}},e=>{var s=s=>e(e.s=s);e.O(0,[189,10,375,56,358],()=>s(9846)),_N_E=e.O()}]);