exports.id=975,exports.ids=[975],exports.modules={193:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>i});var r=s(475),a=s(1162),o=s.n(a),n=s(6237);function i({error:e,reset:t}){return(0,r.jsx)("main",{className:"flex min-h-screen flex-col items-center justify-center p-24",children:(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("h1",{className:"text-6xl font-bold",children:"500"}),(0,r.jsx)("h2",{className:"mt-4 text-2xl",children:"Something went wrong"}),(0,r.jsxs)("p",{className:"mt-2 text-muted-foreground",children:[e.message||"We encountered an error while processing your request.",e.digest&&(0,r.jsxs)("span",{className:"block mt-1 text-sm",children:["Error ID: ",e.digest]})]}),(0,r.jsxs)("div",{className:"mt-8 flex gap-4",children:[(0,r.jsx)(o(),{href:"/",children:(0,r.jsx)(n.$,{children:"Return Home"})}),(0,r.jsx)(n.$,{onClick:()=>t(),variant:"outline",children:"Try Again"})]})]})})}},524:(e,t,s)=>{Promise.resolve().then(s.bind(s,4167))},558:(e,t,s)=>{"use strict";s.d(t,{RegistrationForm:()=>r});let r=(0,s(4663).registerClientReference)(function(){throw Error("Attempted to call RegistrationForm() from the server but RegistrationForm is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/marekcaba/Documents/Projekty 2024/BassNotion/4. Cursor Project Folder/bassnotion-monorepo-v1/apps/frontend/src/domains/user/components/auth/RegistrationForm.tsx","RegistrationForm")},648:(e,t,s)=>{Promise.resolve().then(s.t.bind(s,4928,23)),Promise.resolve().then(s.t.bind(s,150,23)),Promise.resolve().then(s.t.bind(s,9670,23)),Promise.resolve().then(s.t.bind(s,4273,23)),Promise.resolve().then(s.t.bind(s,2933,23)),Promise.resolve().then(s.t.bind(s,9405,23)),Promise.resolve().then(s.t.bind(s,965,23)),Promise.resolve().then(s.t.bind(s,6855,23))},1143:(e,t,s)=>{"use strict";s.d(t,{ReactQueryProvider:()=>r});let r=(0,s(4663).registerClientReference)(function(){throw Error("Attempted to call ReactQueryProvider() from the server but ReactQueryProvider is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/marekcaba/Documents/Projekty 2024/BassNotion/4. Cursor Project Folder/bassnotion-monorepo-v1/apps/frontend/src/lib/react-query.tsx","ReactQueryProvider")},1172:(e,t,s)=>{"use strict";s.d(t,{RegistrationForm:()=>f});var r=s(475),a=s(2419),o=s(9238),n=s(1122),i=s(7646),l=s(3199),d=s(7166),c=s(1711),u=s(6237),m=s(1462),p=s(7969),h=s(5041);function f({onSubmit:e,onGoogleSignIn:t,isLoading:s=!1,isGoogleLoading:f=!1,className:x}){let[g,v]=(0,d.useState)(!1),[b,w]=(0,d.useState)(!1),j=(0,c.mN)({resolver:(0,a.u)(o.LE),mode:"onChange",defaultValues:{email:"",password:"",confirmPassword:""}}),y=async t=>{try{await e(t)}catch(e){console.error("Registration error:",e)}},N=()=>v(!g),P=()=>w(!b);return(0,r.jsxs)("div",{className:x,children:[(0,r.jsxs)("div",{className:"mb-6",children:[(0,r.jsx)("h2",{className:"text-2xl font-bold text-center",children:"Create Account"}),(0,r.jsx)("p",{className:"text-muted-foreground text-center mt-2",children:"Join BassNotion to start your bass learning journey"})]}),(0,r.jsx)(m.lV,{...j,children:(0,r.jsxs)("form",{onSubmit:j.handleSubmit(y),className:"space-y-4",children:[(0,r.jsx)(m.zB,{control:j.control,name:"email",render:({field:e})=>(0,r.jsxs)(m.eI,{children:[(0,r.jsx)(m.lR,{children:"Email"}),(0,r.jsx)(m.MJ,{children:(0,r.jsx)(p.p,{type:"email",placeholder:"Enter your email",autoComplete:"email",disabled:s,...e})}),(0,r.jsx)(m.C5,{})]})}),(0,r.jsx)(m.zB,{control:j.control,name:"password",render:({field:e})=>(0,r.jsxs)(m.eI,{children:[(0,r.jsx)(m.lR,{children:"Password"}),(0,r.jsx)(m.MJ,{children:(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)(p.p,{type:g?"text":"password",placeholder:"Create a strong password",autoComplete:"new-password",disabled:s,...e}),(0,r.jsxs)(u.$,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:N,disabled:s,children:[g?(0,r.jsx)(n.A,{className:"h-4 w-4"}):(0,r.jsx)(i.A,{className:"h-4 w-4"}),(0,r.jsx)("span",{className:"sr-only",children:g?"Hide password":"Show password"})]})]})}),(0,r.jsx)(m.C5,{})]})}),(0,r.jsx)(m.zB,{control:j.control,name:"confirmPassword",render:({field:e})=>(0,r.jsxs)(m.eI,{children:[(0,r.jsx)(m.lR,{children:"Confirm Password"}),(0,r.jsx)(m.MJ,{children:(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)(p.p,{type:b?"text":"password",placeholder:"Confirm your password",autoComplete:"new-password",disabled:s,...e}),(0,r.jsxs)(u.$,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:P,disabled:s,children:[b?(0,r.jsx)(n.A,{className:"h-4 w-4"}):(0,r.jsx)(i.A,{className:"h-4 w-4"}),(0,r.jsx)("span",{className:"sr-only",children:b?"Hide password":"Show password"})]})]})}),(0,r.jsx)(m.C5,{})]})}),(0,r.jsx)(u.$,{type:"submit",className:"w-full",disabled:s||!j.formState.isValid,children:s?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(l.A,{className:"mr-2 h-4 w-4 animate-spin"}),"Creating Account..."]}):"Create Account"}),(0,r.jsxs)("div",{className:"relative my-6",children:[(0,r.jsx)("div",{className:"absolute inset-0 flex items-center",children:(0,r.jsx)("span",{className:"w-full border-t"})}),(0,r.jsx)("div",{className:"relative flex justify-center text-xs uppercase",children:(0,r.jsx)("span",{className:"bg-background px-2 text-muted-foreground",children:"Or continue with"})})]}),(0,r.jsx)(h._,{onClick:t,isLoading:f})]})}),(0,r.jsx)("div",{className:"mt-6 text-center",children:(0,r.jsxs)("p",{className:"text-sm text-muted-foreground",children:["Already have an account?"," ",(0,r.jsx)(u.$,{variant:"link",className:"p-0 h-auto",children:"Sign in"})]})})]})}},1462:(e,t,s)=>{"use strict";s.d(t,{lV:()=>f,MJ:()=>b,zB:()=>x,eI:()=>g,lR:()=>v,C5:()=>w});var r=s(475),a=s(5742),o=s(7166),n=s(1711),i=s(6921),l=s(969),d=s(4177);let c=(0,l.F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),u=o.forwardRef(({className:e,...t},s)=>(0,r.jsx)(i.b,{ref:s,className:(0,d.cn)(c(),e),...t}));u.displayName=i.b.displayName;let m=o.createContext({}),p=o.createContext({});function h(){let e=o.useContext(m),t=o.useContext(p),{getFieldState:s,formState:r}=(0,n.xW)(),a=s(e.name,r);if(!e)throw Error("useFormField should be used within <FormField>");let{id:i}=t;return{id:i,name:e.name,formItemId:`${i}-form-item`,formDescriptionId:`${i}-form-item-description`,formMessageId:`${i}-form-item-message`,...a}}let f=n.Op,x=({...e})=>(0,r.jsx)(m.Provider,{value:{name:e.name},children:(0,r.jsx)(n.xI,{...e})}),g=o.forwardRef(({className:e,...t},s)=>{let a=o.useId();return(0,r.jsx)(p.Provider,{value:{id:a},children:(0,r.jsx)("div",{ref:s,className:(0,d.cn)("space-y-2",e),...t})})});g.displayName="FormItem";let v=o.forwardRef(({className:e,...t},s)=>{let{error:a,formItemId:o}=h();return(0,r.jsx)(u,{ref:s,className:(0,d.cn)(a&&"text-destructive",e),htmlFor:o,...t})});v.displayName="FormLabel";let b=o.forwardRef(({...e},t)=>{let{error:s,formItemId:o,formDescriptionId:n,formMessageId:i}=h();return(0,r.jsx)(a.DX,{ref:t,id:o,"aria-describedby":s?`${n} ${i}`:`${n}`,"aria-invalid":!!s,...e})});b.displayName="FormControl",o.forwardRef(({className:e,...t},s)=>{let{formDescriptionId:a}=h();return(0,r.jsx)("p",{ref:s,id:a,className:(0,d.cn)("text-sm text-muted-foreground",e),...t})}).displayName="FormDescription";let w=o.forwardRef(({className:e,children:t,...s},a)=>{let{error:o,formMessageId:n}=h(),i=o?String(o?.message):t;return i?(0,r.jsx)("p",{ref:a,id:n,className:(0,d.cn)("text-sm font-medium text-destructive",e),...s,children:i}):null});w.displayName="FormMessage"},3685:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>a});var r=s(4913);function a(){return(0,r.jsxs)("div",{children:[(0,r.jsx)("h1",{children:"404 - Page Not Found"}),(0,r.jsx)("p",{children:"The page you are looking for does not exist."})]})}},3737:(e,t,s)=>{"use strict";s.d(t,{N:()=>r});let r=(0,s(5472).UU)("https://htuztkrbuewheehjspcz.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imh0dXp0a3JidWV3aGVlaGpzcGN6Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDc3MjY1NTQsImV4cCI6MjA2MzMwMjU1NH0.yqEzmBR8SykKYa3rJlWfAIjiR0EltXn77H2ptuNUqCg",{auth:{autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"pkce",debug:!0},global:{headers:{"x-client-info":"@supabase/auth-ui-react@latest"}}})},4167:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>r});let r=(0,s(4663).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/Users/marekcaba/Documents/Projekty 2024/BassNotion/4. Cursor Project Folder/bassnotion-monorepo-v1/apps/frontend/src/app/error.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/marekcaba/Documents/Projekty 2024/BassNotion/4. Cursor Project Folder/bassnotion-monorepo-v1/apps/frontend/src/app/error.tsx","default")},4177:(e,t,s)=>{"use strict";s.d(t,{cn:()=>o});var r=s(7435),a=s(1530);function o(...e){return(0,a.QP)((0,r.$)(e))}},4200:(e,t,s)=>{Promise.resolve().then(s.t.bind(s,1598,23)),Promise.resolve().then(s.t.bind(s,3168,23)),Promise.resolve().then(s.t.bind(s,9028,23)),Promise.resolve().then(s.t.bind(s,6543,23)),Promise.resolve().then(s.t.bind(s,4967,23)),Promise.resolve().then(s.t.bind(s,4172,23)),Promise.resolve().then(s.t.bind(s,9567,23)),Promise.resolve().then(s.t.bind(s,5489,23))},4449:(e,t,s)=>{"use strict";s.d(t,{ReactQueryProvider:()=>l});var r=s(475),a=s(407),o=s(1281),n=s(3341),i=s(7166);function l({children:e}){let[t]=(0,i.useState)(()=>new a.E({defaultOptions:{queries:{staleTime:6e4,retry:(e,t)=>{if(t instanceof Error&&"status"in t){let e=t.status;if(e>=400&&e<500)return!1}return e<3}},mutations:{retry:!1}}}));return(0,r.jsxs)(o.Ht,{client:t,children:[e,(0,r.jsx)(n.E,{initialIsOpen:!1})]})}},4569:(e,t,s)=>{"use strict";s.d(t,{Toaster:()=>g});var r=s(475),a=s(5788),o=s(969),n=s(405),i=s(7166),l=s(4177);let d=a.Kq,c=i.forwardRef(({className:e,...t},s)=>(0,r.jsx)(a.LM,{ref:s,className:(0,l.cn)("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));c.displayName=a.LM.displayName;let u=(0,o.F)("group pointer-events-auto relative flex w-full items-center justify-between space-x-2 overflow-hidden rounded-md border p-4 pr-6 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),m=i.forwardRef(({className:e,variant:t,...s},o)=>(0,r.jsx)(a.bL,{ref:o,className:(0,l.cn)(u({variant:t}),e),...s}));m.displayName=a.bL.displayName,i.forwardRef(({className:e,...t},s)=>(0,r.jsx)(a.rc,{ref:s,className:(0,l.cn)("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium transition-colors hover:bg-secondary focus:outline-none focus:ring-1 focus:ring-ring disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t})).displayName=a.rc.displayName;let p=i.forwardRef(({className:e,...t},s)=>(0,r.jsx)(a.bm,{ref:s,className:(0,l.cn)("absolute right-1 top-1 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-1 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:(0,r.jsx)(n.A,{className:"h-4 w-4"})}));p.displayName=a.bm.displayName;let h=i.forwardRef(({className:e,...t},s)=>(0,r.jsx)(a.hE,{ref:s,className:(0,l.cn)("text-sm font-semibold [&+div]:text-xs",e),...t}));h.displayName=a.hE.displayName;let f=i.forwardRef(({className:e,...t},s)=>(0,r.jsx)(a.VY,{ref:s,className:(0,l.cn)("text-sm opacity-90",e),...t}));f.displayName=a.VY.displayName;var x=s(8849);function g(){let{toasts:e}=(0,x.dj)();return(0,r.jsxs)(d,{children:[e.map(function({id:e,title:t,description:s,action:a,dismiss:o,update:n,...i}){return(0,r.jsxs)(m,{...i,children:[(0,r.jsxs)("div",{className:"grid gap-1",children:[t&&(0,r.jsx)(h,{children:t}),s&&(0,r.jsx)(f,{children:s})]}),a,(0,r.jsx)(p,{})]},e)}),(0,r.jsx)(c,{})]})}},4815:(e,t,s)=>{Promise.resolve().then(s.bind(s,9526)),Promise.resolve().then(s.bind(s,5818)),Promise.resolve().then(s.bind(s,558)),Promise.resolve().then(s.bind(s,1143)),Promise.resolve().then(s.bind(s,5551))},5041:(e,t,s)=>{"use strict";s.d(t,{_:()=>c});var r=s(475),a=s(6237),o=s(3199),n=s(7646),i=s(1122);let l={spinner:o.A,eye:n.A,eyeOff:i.A,google:e=>(0,r.jsx)("svg",{"aria-hidden":"true",focusable:"false","data-prefix":"fab","data-icon":"google",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 488 512",...e,children:(0,r.jsx)("path",{fill:"currentColor",d:"M488 261.8C488 403.3 391.1 504 248 504 110.8 504 0 393.2 0 256S110.8 8 248 8c66.8 0 123 24.5 166.3 64.9l-67.5 64.9C258.5 52.6 94.3 116.6 94.3 256c0 86.5 69.1 156.6 153.7 156.6 98.2 0 135-70.4 140.8-106.9H248v-85.3h236.1c2.3 12.7 3.9 24.9 3.9 41.4z"})})};var d=s(4177);function c({className:e,isLoading:t=!1,...s}){return(0,r.jsxs)(a.$,{variant:"outline",type:"button",disabled:t,className:(0,d.cn)("w-full bg-white text-black hover:bg-gray-50 dark:bg-gray-950 dark:text-white dark:hover:bg-gray-900",e),...s,children:[t?(0,r.jsx)(l.spinner,{className:"mr-2 h-4 w-4 animate-spin"}):(0,r.jsx)(l.google,{className:"mr-2 h-4 w-4"}),"Sign in with Google"]})}},5551:(e,t,s)=>{"use strict";s.d(t,{Toaster:()=>r});let r=(0,s(4663).registerClientReference)(function(){throw Error("Attempted to call Toaster() from the server but Toaster is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/marekcaba/Documents/Projekty 2024/BassNotion/4. Cursor Project Folder/bassnotion-monorepo-v1/apps/frontend/src/shared/components/ui/toaster.tsx","Toaster")},5590:(e,t,s)=>{"use strict";s.d(t,{A:()=>n});var r=s(6300),a=s(453);let o=(0,r.v)()((0,a.lt)(e=>({user:null,session:null,isLoading:!0,isInitialized:!1,setUser:t=>e({user:t}),setSession:t=>e({session:t}),setLoading:t=>e({isLoading:t}),setInitialized:t=>e({isInitialized:t}),reset:()=>e({user:null,session:null,isLoading:!1,isInitialized:!0})}),{name:"auth-store"})),n=()=>{let e=o();return{...e,isAuthenticated:!!(e.user&&e.session),isReady:e.isInitialized&&!e.isLoading}}},5648:(e,t,s)=>{"use strict";s.d(t,{LoginForm:()=>f});var r=s(475),a=s(2419),o=s(9238),n=s(1122),i=s(7646),l=s(3199),d=s(7166),c=s(1711),u=s(6237),m=s(5041),p=s(1462),h=s(7969);function f({onSubmit:e,onGoogleSignIn:t,isLoading:s=!1,isGoogleLoading:f=!1,className:x}){let[g,v]=(0,d.useState)(!1),b=(0,c.mN)({resolver:(0,a.u)(o.X5),mode:"onChange",defaultValues:{email:"",password:""}}),w=async t=>{try{await e(t)}catch(e){console.error("Login error:",e)}},j=()=>v(!g);return(0,r.jsxs)("div",{className:x,children:[(0,r.jsxs)("div",{className:"mb-6",children:[(0,r.jsx)("h2",{className:"text-2xl font-bold text-center",children:"Welcome Back"}),(0,r.jsx)("p",{className:"text-muted-foreground text-center mt-2",children:"Sign in to continue your bass learning journey"})]}),(0,r.jsx)(p.lV,{...b,children:(0,r.jsxs)("form",{onSubmit:b.handleSubmit(w),className:"space-y-4",children:[(0,r.jsx)(p.zB,{control:b.control,name:"email",render:({field:e})=>(0,r.jsxs)(p.eI,{children:[(0,r.jsx)(p.lR,{children:"Email"}),(0,r.jsx)(p.MJ,{children:(0,r.jsx)(h.p,{type:"email",placeholder:"Enter your email",autoComplete:"email",disabled:s,...e})}),(0,r.jsx)(p.C5,{})]})}),(0,r.jsx)(p.zB,{control:b.control,name:"password",render:({field:e})=>(0,r.jsxs)(p.eI,{children:[(0,r.jsx)(p.lR,{children:"Password"}),(0,r.jsx)(p.MJ,{children:(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)(h.p,{type:g?"text":"password",placeholder:"Enter your password",autoComplete:"current-password",disabled:s,...e}),(0,r.jsxs)(u.$,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:j,disabled:s,children:[g?(0,r.jsx)(n.A,{className:"h-4 w-4"}):(0,r.jsx)(i.A,{className:"h-4 w-4"}),(0,r.jsx)("span",{className:"sr-only",children:g?"Hide password":"Show password"})]})]})}),(0,r.jsx)(p.C5,{})]})}),(0,r.jsx)("div",{className:"flex items-center justify-between",children:(0,r.jsx)(u.$,{variant:"link",className:"p-0 h-auto text-sm",children:"Forgot password?"})}),(0,r.jsx)(u.$,{type:"submit",className:"w-full",disabled:s||!b.formState.isValid,children:s?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(l.A,{className:"mr-2 h-4 w-4 animate-spin"}),"Signing In..."]}):"Sign In"}),(0,r.jsxs)("div",{className:"relative my-6",children:[(0,r.jsx)("div",{className:"absolute inset-0 flex items-center",children:(0,r.jsx)("span",{className:"w-full border-t"})}),(0,r.jsx)("div",{className:"relative flex justify-center text-xs uppercase",children:(0,r.jsx)("span",{className:"bg-background px-2 text-muted-foreground",children:"Or continue with"})})]}),(0,r.jsx)(m._,{onClick:t,isLoading:f})]})}),(0,r.jsx)("div",{className:"mt-6 text-center",children:(0,r.jsxs)("p",{className:"text-sm text-muted-foreground",children:["Don't have an account?"," ",(0,r.jsx)(u.$,{variant:"link",className:"p-0 h-auto",children:"Create account"})]})})]})}},5818:(e,t,s)=>{"use strict";s.d(t,{LoginForm:()=>r});let r=(0,s(4663).registerClientReference)(function(){throw Error("Attempted to call LoginForm() from the server but LoginForm is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/marekcaba/Documents/Projekty 2024/BassNotion/4. Cursor Project Folder/bassnotion-monorepo-v1/apps/frontend/src/domains/user/components/auth/LoginForm.tsx","LoginForm")},6237:(e,t,s)=>{"use strict";s.d(t,{$:()=>l});var r=s(475),a=s(5742),o=s(7166),n=s(4177),i=s(9548);let l=o.forwardRef(({className:e,variant:t,size:s,asChild:o=!1,...l},d)=>{let c=o?a.DX:"button",u=(0,i.r)({variant:t,size:s,className:e});return(0,r.jsx)(c,{className:(0,n.cn)(u),ref:d,...l})});l.displayName="Button"},6956:(e,t,s)=>{Promise.resolve().then(s.bind(s,193))},7018:()=>{},7943:(e,t,s)=>{Promise.resolve().then(s.bind(s,8054)),Promise.resolve().then(s.bind(s,5648)),Promise.resolve().then(s.bind(s,1172)),Promise.resolve().then(s.bind(s,4449)),Promise.resolve().then(s.bind(s,4569))},7969:(e,t,s)=>{"use strict";s.d(t,{p:()=>n});var r=s(475),a=s(7166),o=s(4177);let n=a.forwardRef(({className:e,type:t,...s},a)=>(0,r.jsx)("input",{type:t,className:(0,o.cn)("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-base shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:a,...s}));n.displayName="Input"},8054:(e,t,s)=>{"use strict";s.d(t,{AuthProvider:()=>P});var r=s(475),a=s(7166),o=s(2177),n=s(8124),i=s(5590),l=s(1568),d=s(9548),c=s(4177);let u={overlay:e=>(0,c.cn)("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),content:e=>(0,c.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),header:e=>(0,c.cn)("flex flex-col space-y-2 text-center sm:text-left",e),footer:e=>(0,c.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),title:e=>(0,c.cn)("text-lg font-semibold",e),description:e=>(0,c.cn)("text-sm text-muted-foreground",e),action:e=>(0,c.cn)((0,d.r)(),e),cancel:e=>(0,c.cn)((0,d.r)({variant:"outline"}),"mt-2 sm:mt-0",e)},m=l.bL;l.l9;let p=l.ZL,h=a.forwardRef(({className:e,...t},s)=>(0,r.jsx)(l.hJ,{className:u.overlay(e),...t,ref:s}));h.displayName=l.hJ.displayName;let f=a.forwardRef(({className:e,...t},s)=>(0,r.jsxs)(p,{children:[(0,r.jsx)(h,{}),(0,r.jsx)(l.UC,{ref:s,className:u.content(e),...t})]}));f.displayName=l.UC.displayName;let x=({className:e,...t})=>(0,r.jsx)("div",{className:u.header(e),...t});x.displayName="AlertDialogHeader";let g=({className:e,...t})=>(0,r.jsx)("div",{className:u.footer(e),...t});g.displayName="AlertDialogFooter";let v=a.forwardRef(({className:e,...t},s)=>(0,r.jsx)(l.hE,{ref:s,className:u.title(e),...t}));v.displayName=l.hE.displayName;let b=a.forwardRef(({className:e,...t},s)=>(0,r.jsx)(l.VY,{ref:s,className:u.description(e),...t}));b.displayName=l.VY.displayName;let w=a.forwardRef(({className:e,...t},s)=>(0,r.jsx)(l.rc,{ref:s,className:u.action(e),...t}));w.displayName=l.rc.displayName;let j=a.forwardRef(({className:e,...t},s)=>(0,r.jsx)(l.ZD,{ref:s,className:u.cancel(e),...t}));function y({isOpen:e,onExtendSession:t,onLogout:s,countdownSeconds:o=300}){let[n,i]=(0,a.useState)(o);return(0,r.jsx)(m,{open:e,children:(0,r.jsxs)(f,{children:[(0,r.jsxs)(x,{children:[(0,r.jsx)(v,{children:"Session Timeout Warning"}),(0,r.jsxs)(b,{children:["You've been inactive for a while. For your security, you'll be automatically logged out in"," ",(0,r.jsx)("strong",{className:"text-destructive",children:(e=>{let t=Math.floor(e/60);return`${t}:${(e%60).toString().padStart(2,"0")}`})(n)}),"."]})]}),(0,r.jsxs)(g,{children:[(0,r.jsx)(j,{onClick:s,children:"Logout Now"}),(0,r.jsx)(w,{onClick:t,children:"Stay Logged In"})]})]})})}j.displayName=l.ZD.displayName;var N=s(8849);function P({children:e}){let{setUser:t,setSession:s,setLoading:l,setInitialized:d,reset:c,isAuthenticated:u,isReady:m}=(0,i.A)(),p=(0,o.useRouter)(),{toast:h}=(0,N.dj)(),[f,x]=(0,a.useState)(!1),g=async()=>{x(!1),await n.y1.signOut(),p.push("/login?reason=idle"),h({title:"Session Expired",description:"You were logged out due to inactivity.",variant:"destructive"})},v=async()=>{x(!1);try{let{session:e}=await n.y1.refreshSession();e&&s(e),b()}catch(e){console.error("Failed to refresh session:",e),g()}},{resetIdleTimer:b}=function(e={}){let{timeout:t=18e5,events:s=["mousedown","mousemove","keypress","scroll","touchstart","click"],enabled:r=!0,onIdle:o,warningTime:l=3e5,onWarning:d}=e,{reset:c}=(0,i.A)(),u=(0,a.useRef)(void 0),m=(0,a.useRef)(void 0),p=(0,a.useRef)(Date.now()),h=(0,a.useCallback)(async()=>{try{await n.y1.signOut(),c(),o?.()}catch(e){console.error("Error during idle logout:",e),c(),o?.()}},[c,o]),f=(0,a.useCallback)(()=>{d?.()},[d]),x=(0,a.useCallback)(()=>{r&&(p.current=Date.now(),u.current&&clearTimeout(u.current),m.current&&clearTimeout(m.current),l>0&&l<t&&(m.current=setTimeout(f,t-l)),u.current=setTimeout(h,t))},[r,t,l,h,f]);return{resetIdleTimer:(0,a.useCallback)(()=>{x()},[x]),getLastActivity:()=>p.current,getRemainingTime:()=>Math.max(0,t-(Date.now()-p.current))}}({timeout:18e5,warningTime:3e5,enabled:u,onIdle:g,onWarning:()=>{x(!0)}});return m?(0,r.jsxs)(r.Fragment,{children:[e,(0,r.jsx)(y,{isOpen:f,onExtendSession:v,onLogout:g,countdownSeconds:300})]}):(0,r.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("h2",{className:"text-lg font-semibold",children:"Loading..."}),(0,r.jsx)("p",{className:"text-muted-foreground mt-2",children:"Please wait while we initialize your session."})]})})}s(3737)},8124:(e,t,s)=>{"use strict";s.d(t,{y1:()=>n});var r=s(3737),a=s(6168);class o{get backendUrl(){return"http://localhost:3001"}async signUpWithBackend(e){try{let t=await fetch(`${this.backendUrl}/auth/signup`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),s=await t.json();if(!t.ok)throw Error(s.message||"Registration failed");return s}catch(e){throw console.error("[Auth Debug] Backend registration error:",e),e}}async signInWithBackend(e){try{let t=await fetch(`${this.backendUrl}/auth/signin`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),s=await t.json();if(!t.ok)throw Error(s.message||"Login failed");return s}catch(e){throw console.error("[Auth Debug] Backend login error:",e),e}}async signUp(e){let{data:t,error:s}=await r.N.auth.signUp({email:e.email,password:e.password});if(s)throw s;return t}async signIn(e){let{data:t,error:s}=await r.N.auth.signInWithPassword({email:e.email,password:e.password});if(s)throw s;return t}async signOut(){let{error:e}=await r.N.auth.signOut();if(e)throw e}async getCurrentSession(){let{data:e,error:t}=await r.N.auth.getSession();if(t)throw t;return e}async getCurrentUser(){let{data:e,error:t}=await r.N.auth.getUser();if(t)throw t;return e}onAuthStateChange(e){return r.N.auth.onAuthStateChange(e)}async refreshSession(){let{data:e,error:t}=await r.N.auth.refreshSession();if(t)throw t;return e}async signInWithGoogle(){try{let e=`${window.location.origin}/auth/callback`;console.debug("[Auth Debug] Initiating Google sign-in...",{redirectUrl:e,currentUrl:window.location.href,origin:window.location.origin,supabaseUrl:"https://htuztkrbuewheehjspcz.supabase.co"});let{data:t,error:s}=await r.N.auth.signInWithOAuth({provider:"google",options:{redirectTo:e,queryParams:{access_type:"offline",prompt:"consent"}}});if(s)throw console.error("[Auth Debug] Google sign-in error:",{code:s.status,message:s.message,name:s.name,stack:s.stack}),s;return console.debug("[Auth Debug] Google sign-in response:",{hasProvider:!!t.provider,hasUrl:!!t.url,url:t.url,provider:t.provider}),t}catch(e){if(console.error("[Auth Debug] Unexpected error during Google sign-in:",{error:e,isAuthError:e instanceof a.lR}),e instanceof a.lR)throw e;throw Error("An unexpected error occurred during Google sign-in")}}async checkUserExists(e){try{let{data:t,error:s}=await r.N.rpc("check_user_exists",{email_input:e});if(s)throw s;return{exists:!!t,error:null}}catch(e){return console.error("[Auth Debug] Check user exists error:",e),{exists:!1,error:e}}}async signInWithMagicLink(e,t=!1){try{console.debug("[Auth Debug] Sending magic link:",{email:e,isNewUser:t});let{data:s,error:a}=await r.N.auth.signInWithOtp({email:e,options:{shouldCreateUser:t,emailRedirectTo:`${window.location.origin}/auth/callback`}});if(a)throw a;return{data:s,error:null}}catch(e){if(console.error("[Auth Debug] Magic link error:",e),e instanceof a.lR)return{data:null,error:e};throw e}}async updatePassword(e,t){try{let{data:e,error:s}=await r.N.auth.updateUser({password:t});if(s)throw s;return e}catch(e){throw console.error("[Auth Debug] Password update error:",e),e}}}let n=new o},8837:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>u,generateMetadata:()=>c});var r=s(4913);s(7018);var a=s(1143);s(558),s(5818);var o=s(9526),n=s(5551),i=s(3486),l=s.n(i);let d={title:"BassNotion",description:"Your personal bass guitar learning platform"},c=()=>d;function u({children:e}){return(0,r.jsxs)("html",{lang:"en",suppressHydrationWarning:!0,children:[(0,r.jsx)("head",{children:(0,r.jsx)("link",{rel:"icon",href:"/favicon.ico"})}),(0,r.jsxs)("body",{className:l().className,children:[(0,r.jsx)(a.ReactQueryProvider,{children:(0,r.jsx)(o.AuthProvider,{children:e})}),(0,r.jsx)(n.Toaster,{})]})]})}},8849:(e,t,s)=>{"use strict";s.d(t,{dj:()=>u});var r=s(7166);let a=new Map,o=e=>{if(a.has(e))return;let t=setTimeout(()=>{a.delete(e),d({type:"remove_toast",toastId:e})},1e6);a.set(e,t)},n=(e,t)=>{switch(t.type){case"add_toast":return{...e,toasts:[t.toast,...e.toasts].slice(0,1)};case"update_toast":return{...e,toasts:e.toasts.map(e=>e.id===t.id?{...e,...t.toast}:e)};case"dismiss_toast":{let{toastId:s}=t;return s?o(s):e.toasts.forEach(e=>{o(e.id)}),{...e,toasts:e.toasts.map(e=>e.id!==s&&s?e:{...e,dismiss:()=>d({type:"dismiss_toast",toastId:e.id})})}}case"remove_toast":if(void 0===t.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==t.toastId)}}},i=[],l={toasts:[]};function d(e){l=n(l,e),i.forEach(e=>{e(l)})}function c({...e}){let t=crypto.randomUUID(),s=e=>d({type:"update_toast",id:t,toast:e}),r=()=>d({type:"dismiss_toast",toastId:t});return d({type:"add_toast",toast:{...e,id:t,dismiss:r,update:s}}),{id:t,dismiss:r,update:s}}function u(){let[e,t]=r.useState(l);return r.useEffect(()=>(i.push(t),()=>{let e=i.indexOf(t);e>-1&&i.splice(e,1)}),[e]),{...e,toast:c,dismiss:e=>d({type:"dismiss_toast",toastId:e})}}},8947:()=>{},9238:(e,t,s)=>{"use strict";s.d(t,{nM:()=>m,X5:()=>c,LE:()=>u});var r,a=s(8811);let o={email:{required:"Email is required",invalid:"Invalid email format"},password:{required:"Password is required",minLength:"Password must be at least 8 characters",strength:"Password must contain uppercase, lowercase, number and special character",mismatch:"Passwords don't match"},displayName:{required:"Display name is required",minLength:"Display name must be at least 2 characters"}},n=a.z.string().min(1,o.email.required).email(o.email.invalid),i=a.z.string().min(8,o.password.minLength).regex(/^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9!@#$%^&*])/,o.password.strength),l=a.z.string().min(2,o.displayName.minLength),d=a.z.string().optional(),c=a.z.object({email:n,password:a.z.string().min(1,o.password.required)}),u=a.z.object({email:n,password:i,confirmPassword:a.z.string()}).refine(e=>e.password===e.confirmPassword,{message:o.password.mismatch,path:["confirmPassword"]});a.z.object({email:n,password:i,confirmPassword:a.z.string(),displayName:a.z.string().min(2,o.displayName.minLength),bio:a.z.string().optional()}).refine(e=>e.password===e.confirmPassword,{message:o.password.mismatch,path:["confirmPassword"]});let m=a.z.object({currentPassword:a.z.string().min(1,o.password.required),newPassword:i,confirmPassword:a.z.string()}).refine(e=>e.newPassword===e.confirmPassword,{message:o.password.mismatch,path:["confirmPassword"]});a.z.object({displayName:l,bio:d,avatarUrl:a.z.string().url().optional()}),a.z.object({theme:a.z.enum(["light","dark"]).default("dark"),emailNotifications:a.z.boolean().default(!0),defaultMetronomeSettings:a.z.object({bpm:a.z.number().min(40).max(300).default(120),timeSignature:a.z.string().default("4/4"),sound:a.z.enum(["click","beep","wood"]).default("click")})}),a.z.object({id:a.z.string(),email:n,displayName:l,bio:d,avatarUrl:a.z.string().url().optional(),createdAt:a.z.string(),updatedAt:a.z.string()}),function(e){e.AVAILABLE="available",e.CONSUMED="consumed",e.EXPIRED="expired"}(r||(r={}))},9275:()=>{},9526:(e,t,s)=>{"use strict";s.d(t,{AuthProvider:()=>r});let r=(0,s(4663).registerClientReference)(function(){throw Error("Attempted to call AuthProvider() from the server but AuthProvider is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/marekcaba/Documents/Projekty 2024/BassNotion/4. Cursor Project Folder/bassnotion-monorepo-v1/apps/frontend/src/domains/user/components/auth/AuthProvider.tsx","AuthProvider")},9548:(e,t,s)=>{"use strict";s.d(t,{r:()=>r});let r=(0,s(969).F)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-transparent shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}})}};